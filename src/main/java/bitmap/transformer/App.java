/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package bitmap.transformer;

import javax.imageio.ImageIO;
import java.awt.*;
import java.awt.image.BufferedImage;
import java.io.File;
import java.io.IOException;

public class App {
//    public String getGreeting() {
//        return "Hello world.";
//    }
    public static void main(String[] args) throws IOException {
        String file = "assets/mario.bmp";
        // Create an instance. bitMapFromFile is a class.
        BitMap bitMapFromFile = new BitMap(file);
        // Tell the instance to do something - Grayscale
        bitMapFromFile.convertToGrayScale();
        // tell the instance to write out to new file
        bitMapFromFile.write("assets/marioFromConstructor.bmp");

        //readImageFile();

    }


    public static void readImageFile(){
        int width = 100;
        int height = 100;

        //=====
        // Read Image File
        // Inspired by How to Read and Write File in Java -
        // https://www.youtube.com/watch?v=lGX0Gc6d51s&feature=youtu.be
        //=====
        try {
            File f = new File("assets/mario.bmp");
            BufferedImage image = ImageIO.read(f);
            System.out.println("Reading complete.");

            // =====
            // Convert Image to GreyScale
            // Used resource from YouTube - Java: Read Image Pixel By Pixel And Convert To Grayscale Color Using Simple Grayscaling method -
            // https://www.youtube.com/watch?v=cq80Itgs5Lw&amp=&feature=youtu.be
            //=====
            for (int i=0; i < width; i++){
                for( int j=0; j < width; j++){
                    //getting RGB color on each pixel
                    Color c = new Color(image.getRGB(j, i));
                    int r = c.getRed();
                    int g = c.getGreen();
                    int b = c.getBlue();
                    int a = c.getAlpha();
                    //turning color to grayscale
                    int gr = (r + g + b) / 3;
                    //create gray color
                    Color grayColor = new Color (gr, gr, gr, a);
                    image.setRGB(j, i, grayColor.getRGB());
                }
            }
            //write new file
            f = new File("assets/marioFromTerminal.bmp");
            //write to file
            ImageIO.write(image, "bmp", f);
            System.out.println("Completed Writing");


        }catch(IOException e){
            System.out.println("Error: " +e );
        }
    }




}
